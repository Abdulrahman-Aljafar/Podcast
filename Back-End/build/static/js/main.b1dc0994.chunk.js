(this.webpackJsonppodcastapp=this.webpackJsonppodcastapp||[]).push([[0],{108:function(e,t,c){},110:function(e,t,c){},136:function(e,t,c){},138:function(e,t,c){},139:function(e,t,c){},140:function(e,t,c){},142:function(e,t,c){},143:function(e,t,c){},144:function(e,t,c){},145:function(e,t,c){},146:function(e,t,c){},147:function(e,t,c){},148:function(e,t,c){"use strict";c.r(t);var a=c(0),s=c.n(a),n=c(16),o=c.n(n),r=(c(108),c(21)),i=c.n(r),l=c(26),j=c(3),d=(c.p,c(110),c(63)),b=(c(111),c(15)),u=c(19),O={development:"http://localhost:".concat(4e3),production:"https://podcast-titanum.herokuapp.com"},h="localhost"===window.location.hostname?O.development:O.production,p=c(9),m=c.n(p),f=c(13),x=c(12),g=c(186),v=(c(77),c(1));function y(e){var t=Object(u.e)(),c=Object(a.useState)({}),s=Object(j.a)(c,2),n=s[0],o=s[1],r=Object(a.useState)(!0),d=Object(j.a)(r,2),b=d[0],O=d[1],p=Object(a.useState)(""),y=Object(j.a)(p,2),w=(y[0],y[1]),S=Object(a.useState)(""),N=Object(j.a)(S,2),C=(N[0],N[1],Object(a.useState)(!0)),k=Object(j.a)(C,2),P=k[0],E=k[1],T=Object(a.useState)(!0),_=Object(j.a)(T,2),A=_[0],U=_[1],D=Object(a.useState)(!0),L=Object(j.a)(D,2),F=L[0],M=L[1],R=Object(a.useState)(!0),I=Object(j.a)(R,2),B=I[0],z=I[1],W=Object(a.useState)(!0),Y=Object(j.a)(W,2),G=Y[0],H=Y[1],V=Object(a.useState)(""),q=Object(j.a)(V,2),J=q[0],K=q[1],Q=Object(a.useState)(!0),X=Object(j.a)(Q,2),Z=X[0],$=X[1],ee=Object(a.useState)(!0),te=Object(j.a)(ee,2),ce=te[0],ae=te[1],se=function(e){var t=e.target,c=t.name,a=t.value;o(Object(x.a)(Object(x.a)({},n),{},Object(f.a)({},c,a))),"password"==c&&(a.length<6?E(!1):E(!0)),"email"==c&&(a.includes("@")?M(!0):M(!1))},ne=function(){var e=Object(l.a)(i.a.mark((function e(t){var c,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=t.target.files,(a=new FormData).append("file",c[0]),console.log("file",c[0]),a.append("upload_preset","xvn0ezmv"),m.a.post("https://api.cloudinary.com/v1_1/duuconncq/image/upload",a).then((function(e){console.log("res",e);var t=e.data;o(Object(x.a)(Object(x.a)({},n),{},{image:t.secure_url})),w(t.secure_url)})).catch((function(e){console.log(e)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(e){var t=e.target,c=t.name,a=t.value;console.log(a,c),"password"==c&&K(a),"ConfirmPassword"==c&&(console.log("insude"),a==J?(H(!0),console.log("confirmPassword1",G)):(H(!1),console.log("confirmPassword1 else",G)))};return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{class:"page-wrapper bg-gra-01 p-t-100 p-b-100 font-poppins",children:Object(v.jsx)("div",{class:"wrapper wrapper--w780",children:Object(v.jsxs)("div",{class:"card card-3",children:[Object(v.jsx)("div",{class:"card-heading"}),Object(v.jsxs)("div",{class:"card-body",children:[Object(v.jsx)("h2",{class:"title",children:"SignUp"}),Object(v.jsx)("div",{class:"input-group",children:Object(v.jsx)("input",{class:"input--style-3",type:"text",placeholder:"Name",name:"name",onChange:se,style:{color:"white"}})}),!A&&Object(v.jsx)(g.a,{severity:"error",children:" Name Must Not Be Empty"}),Object(v.jsxs)("div",{class:"input-group pt-3",children:[Object(v.jsx)("input",{class:"input--style-3",type:"email",placeholder:"Email",name:"email",onChange:se,style:{color:"white"}}),!b&&Object(v.jsx)(g.a,{severity:"error",children:"The email is already in use. Please change the email"})]}),!F&&Object(v.jsx)(g.a,{severity:"error",children:"Email not incorrect !!"}),!B&&Object(v.jsx)(g.a,{severity:"error",children:"Email Must Not Be Empty !!"}),Object(v.jsx)("div",{class:"input-group pt-3",children:Object(v.jsx)("input",{class:"input--style-3",type:"password",placeholder:"password",name:"password",onChange:function(e){se(e),oe(e)},style:{color:"white"}})}),!P&&Object(v.jsx)(g.a,{severity:"error",children:"password must be more than 6"}),!Z&&Object(v.jsx)(g.a,{severity:"error",children:"Password Must Not Be Empty"}),Object(v.jsx)("div",{class:"input-group pt-3",children:Object(v.jsx)("input",{class:"input--style-3",type:"password",placeholder:"Confirm Password ",name:"ConfirmPassword",onChange:function(e){se(e),oe(e)},style:{color:"white"}})}),!G&&Object(v.jsx)(g.a,{severity:"error",children:"Password Not Match !!"}),!ce&&Object(v.jsx)(g.a,{severity:"error",children:"Confirm Password Must Not Be Empty"}),Object(v.jsx)("div",{class:"input-group pt-3",children:Object(v.jsx)("input",{class:"input--style-3",type:"file",placeholder:"Enter Image",name:"image",onChange:ne,style:{color:"white"}})}),Object(v.jsx)("div",{class:"input-group",children:Object(v.jsx)("input",{class:"input--style-3",type:"text",placeholder:"Bio",name:"bio",onChange:se,style:{color:"white"}})}),Object(v.jsx)("div",{class:"p-t-10",children:Object(v.jsx)("button",{class:"btn btn--pill btn--green",type:"submit",onClick:function(e){console.log("test befor",n.name),e.preventDefault(),m.a.post("".concat(h,"/api/users/register"),n).then((function(e){e.data.user?t.push("/login"):setTimeout((function(){O(!1)}),1e3)})).catch((function(e){return console.log(e)})),n.name||(U(!1),setTimeout((function(){U(!0)}),3e3)),n.email||(z(!1),setTimeout((function(){z(!0)}),3e3)),n.password||($(!1),setTimeout((function(){$(!0)}),3e3)),n.ConfirmPassword||(ae(!1),setTimeout((function(){ae(!0)}),3e3))},children:"Submit"})})]})]})})})})}var w=c(188);function S(e){var t=Object(u.e)(),c=Object(a.useState)({email:"",password:""}),s=Object(j.a)(c,2),n=s[0],o=s[1],r=Object(a.useState)(!0),i=Object(j.a)(r,2),l=i[0],d=i[1],b=function(e){var t=e.target,c=t.name,a=t.value;o(Object(x.a)(Object(x.a)({},n),{},Object(f.a)({},c,a)))};return Object(v.jsxs)(v.Fragment,{children:[!l&&Object(v.jsx)(w.a,{variant:"danger",children:"Email or Password incorrect !!"}),Object(v.jsx)("div",{class:"page-wrapper bg-gra-01 p-t-180 p-b-100 font-poppins",children:Object(v.jsx)("div",{class:"wrapper wrapper--w780",children:Object(v.jsxs)("div",{class:"card card-3",children:[Object(v.jsx)("div",{class:"card-heading"}),Object(v.jsxs)("div",{class:"card-body",children:[Object(v.jsx)("h2",{class:"title",children:"Login "}),Object(v.jsxs)("form",{method:"POST",children:[Object(v.jsx)("div",{class:"input-group",children:Object(v.jsx)("input",{class:"input--style-3",type:"email",placeholder:"Email",name:"email",onChange:function(e){return b(e)},style:{color:"white"}})}),Object(v.jsx)("div",{class:"input-group",children:Object(v.jsx)("input",{class:"input--style-3",type:"password",placeholder:"password",name:"password",onChange:function(e){return b(e)},style:{color:"white"}})}),Object(v.jsx)("div",{class:"p-t-10",children:Object(v.jsx)("button",{class:"btn btn--pill btn--green",type:"submit",onClick:function(c){return c.preventDefault(),void m.a.post("".concat(h,"/api/users/login"),n).then((function(c){console.log("Express backend /login response",c);var a=c.data.token,s=c.data.msg;a?(localStorage.setItem("jwtToken",a),e.loginCallback(),t.push("/Profile")):(console.log("Login error: ",s),d(!1))}))},children:"Submit"})})]})]})]})})})]})}var N=c(185),C=c(190),k=c(179),P=(c(136),c(56)),E=c.n(P),T=new E.a({bitRate:128});function _(e){var t=Object(u.e)(),c=Object(a.useState)({}),s=Object(j.a)(c,2),n=s[0],o=s[1],r=Object(a.useState)(""),d=Object(j.a)(r,2),b=d[0],O=d[1],p=Object(a.useState)(""),y=Object(j.a)(p,2),w=y[0],S=y[1],P=Object(a.useState)(1),E=Object(j.a)(P,2),_=E[0],A=E[1],U=Object(a.useState)(1),D=Object(j.a)(U,2),L=D[0],F=D[1],M=Object(a.useState)(0),R=Object(j.a)(M,2),I=R[0],B=R[1],z=Object(a.useState)(0),W=Object(j.a)(z,2),Y=W[0],G=W[1],H=Object(a.useState)(!1),V=Object(j.a)(H,2),q=V[0],J=V[1],K=Object(a.useState)(!1),Q=Object(j.a)(K,2),X=Q[0],Z=Q[1],$=Object(a.useState)(!1),ee=Object(j.a)($,2),te=ee[0],ce=ee[1],ae=Object(a.useState)(!1),se=Object(j.a)(ae,2),ne=se[0],oe=se[1],re=Object(a.useState)(!0),ie=Object(j.a)(re,2),le=ie[0],je=ie[1],de=Object(a.useState)(!0),be=Object(j.a)(de,2),ue=be[0],Oe=be[1],he=Object(a.useState)(!0),pe=Object(j.a)(he,2),me=pe[0],fe=pe[1],xe=Object(a.useState)({}),ge=Object(j.a)(xe,2),ve=ge[0],ye=ge[1],we=function(e){var t,c=e.target,a=c.name,s=c.value;o(Object(x.a)(Object(x.a)({},n),{},(t={},Object(f.a)(t,a,s),Object(f.a)(t,"audio",b),Object(f.a)(t,"image",w),t)))},Se=function(){var e=Object(l.a)(i.a.mark((function e(t){var c,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c={onUploadProgress:function(e){var t=e.loaded,c=e.total,a=Math.floor(100*t/c);a<100&&B(a)}},a=t.target.files,(s=new FormData).append("file",a[0]),console.log("file",a[0]),A(2),s.append("upload_preset","exoy1fej"),console.log("data",s),m.a.post("https://api.cloudinary.com/v1_1/dhuxwxtfm/video/upload",s,c).then((function(e){console.log("res",e),A(3),B(100),setTimeout((function(){B(0)}),1e3);var t=e.data;o(Object(x.a)(Object(x.a)({},n),{},{audio:t.secure_url})),O(t.secure_url)})).catch((function(e){console.log(e),B(0)}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(l.a)(i.a.mark((function e(t){var c,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c={onUploadProgress:function(e){var t=e.loaded,c=e.total,a=Math.floor(100*t/c);a<100&&B(a)}},a=t.target.files,(s=new FormData).append("file",a[0]),console.log("file",a[0]),F(2),s.append("upload_preset","xvn0ezmv"),m.a.post("https://api.cloudinary.com/v1_1/duuconncq/image/upload",s,c).then((function(e){console.log("res",e),F(3),G(100),setTimeout((function(){G(0)}),1e3);var t=e.data;o(Object(x.a)(Object(x.a)({},n),{},{image:t.secure_url})),S(t.secure_url)})).catch((function(e){console.log(e),G(0)}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){navigator.getUserMedia({audio:!0},(function(){console.log("Permission Granted"),oe(!1)}),(function(){console.log("Permission Denied"),oe(!1)}))}),[]),Object(v.jsx)("div",{children:Object(v.jsx)("div",{className:"main22",children:Object(v.jsxs)("div",{className:"container-C",children:[!me&&Object(v.jsx)(g.a,{severity:"success",children:"Successfully Updated"}),Object(v.jsxs)("form",{method:"POST",className:"appointment-form",id:"appointment-form",children:[Object(v.jsx)("h2",{className:"h1-C",children:"Create New Podcast"}),Object(v.jsxs)("div",{class:"form-group-1",children:[Object(v.jsxs)("h5",{style:{color:"black"},children:["Title ",Object(v.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(v.jsx)("br",{}),!le&&Object(v.jsx)(g.a,{severity:"error",children:"Title Must Not Be Empty !!"}),Object(v.jsx)(N.a.Control,{placeholder:"Title",name:"title",onChange:function(e){return we(e)}}),Object(v.jsx)("h5",{style:{color:"black"},children:"Picture Of Podcast"}),Object(v.jsx)("br",{}),Object(v.jsx)("div",{className:"form-group",children:Object(v.jsx)("input",{type:"file",className:"form-control",name:"image",placeholder:"Enter Images",onChange:Ne})}),1==L?"":2==L?Object(v.jsx)("p",{style:{color:"black"},children:"not completed Please Wait"}):Object(v.jsx)("p",{style:{color:"black"},children:"completed :"}),Y>0&&Object(v.jsx)(C.a,{now:Y,striped:!0,label:"".concat(Y,"%")}),!ue&&Object(v.jsx)(g.a,{severity:"error",children:"Audio Must Not Be Empty !!"}),Object(v.jsxs)("h5",{style:{color:"black"},children:["Upload Your Podcast ",Object(v.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)(k.a,{id:"butt1",onClick:function(){console.log("Record"),J(!0),Z(!1)},children:Object(v.jsx)("i",{id:"up",class:"fa fa-microphone","aria-hidden":"true"})}),Object(v.jsx)(k.a,{id:"butt1",onClick:function(){console.log("Record"),J(!1),Z(!0)},children:Object(v.jsx)("i",{id:"up",class:"fa fa-upload","aria-hidden":"true"})}),X&&Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{className:"form-group",children:Object(v.jsx)("input",{type:"file",className:"form-control",name:"audio",placeholder:"Upload",onChange:Se})}),1==_?"":2==_?Object(v.jsx)("p",{style:{color:"black"},children:"not completed Please Wait"}):Object(v.jsx)("p",{style:{color:"black"},children:"completed :"}),I>0&&Object(v.jsx)(C.a,{now:I,striped:!0,label:"".concat(I,"%")})]}),q&&Object(v.jsx)("div",{className:"App",children:Object(v.jsxs)("header",{className:"App-header",children:[Object(v.jsx)(k.a,{id:"but3",onClick:function(){ne?console.log("Permission Denied"):T.start().then((function(){ce(!0)})).catch((function(e){return console.error(e)}))},disabled:te,children:"Record"}),Object(v.jsx)("audio",{src:ve,controls:"controls"}),Object(v.jsx)("br",{}),Object(v.jsx)(k.a,{id:"but3",onClick:function(){T.stop().getMp3().then((function(e){var t=Object(j.a)(e,2),c=(t[0],t[1]);console.log("blob",c);var a=new File([c],"File name",{type:"audio/ogg"}),s={onUploadProgress:function(e){var t=e.loaded,c=e.total,a=Math.floor(100*t/c);a<100&&B(a)}},r=new FormData;r.append("file",a),console.log("file",a),A(2),r.append("upload_preset","exoy1fej"),console.log("data",r),m.a.post("https://api.cloudinary.com/v1_1/dhuxwxtfm/video/upload",r,s).then((function(e){console.log("res",e),A(3),B(100),setTimeout((function(){B(0)}),1e3);var t=e.data;O(t.secure_url),o(Object(x.a)(Object(x.a)({},n),{},{audio:b}))})).catch((function(e){console.log(e),B(0)}));var i=URL.createObjectURL(c);console.log("From Stop blobURL",i),ce(!1),ye(i)})).catch((function(e){return console.log(e)}))},disabled:!te,children:"Stop And Save"})]})}),Object(v.jsx)("h5",{style:{color:"black"},children:"Description"}),Object(v.jsx)("br",{}),Object(v.jsx)(N.a.Control,{name:"description",placeholder:"Description",onChange:function(e){return we(e)},as:"textarea",rows:3})]}),Object(v.jsx)("br",{}),Object(v.jsx)("div",{className:"form-submit",children:Object(v.jsx)("input",{style:{color:"white"},type:"submit",name:"submit",id:"but",value:"Submit",onClick:function(c){return a=c,n.user=e.data._id,a.preventDefault(),m.a.post("".concat(h,"/api/podcast/new"),n).then((function(e){fe(!1),setTimeout((function(){t.push("/Profile"),fe(!0)}),1500)})),n.title||(je(!1),setTimeout((function(){je(!0)}),3e3)),void(n.audio||(Oe(!1),setTimeout((function(){Oe(!0)}),3e3)));var a}})})]})]})})})}var A=c(87),U=c(88),D=c(91),L=c(90),F=new E.a({bitRate:128}),M=function(e){Object(D.a)(c,e);var t=Object(L.a)(c);function c(e){var a;return Object(A.a)(this,c),(a=t.call(this,e)).start=function(){a.state.isBlocked?console.log("Permission Denied"):F.start().then((function(){a.setState({isRecording:!0})})).catch((function(e){return console.error(e)}))},a.stop=function(){F.stop().getMp3().then((function(e){var t=Object(j.a)(e,2),c=(t[0],t[1]),s=URL.createObjectURL(c);a.setState({blobURL:s,isRecording:!1})})).catch((function(e){return console.log(e)}))},a.state={isRecording:!1,blobURL:"",isBlocked:!1},a}return Object(U.a)(c,[{key:"componentDidMount",value:function(){var e=this;navigator.getUserMedia({audio:!0},(function(){console.log("Permission Granted"),e.setState({isBlocked:!1})}),(function(){console.log("Permission Denied"),e.setState({isBlocked:!0})}))}},{key:"render",value:function(){return Object(v.jsx)("div",{className:"App",children:Object(v.jsxs)("header",{className:"App-header",children:[Object(v.jsx)("button",{onClick:this.start,disabled:this.state.isRecording,children:"Record"}),Object(v.jsx)("button",{onClick:this.stop,disabled:!this.state.isRecording,children:"Stop"}),Object(v.jsx)("audio",{src:this.state.blobURL,controls:"controls"})]})})}}]),c}(s.a.Component);c(138);function R(e){var t=Object(a.useState)(!1),c=Object(j.a)(t,2),s=(c[0],c[1],Object(a.useState)(!1)),n=Object(j.a)(s,2),o=(n[0],n[1]),r=e.channel,i=r.name,l=(r.email,r.image),d=r.bio,u=r._id;r.subscribe;return Object(v.jsx)("div",{class:"col-xs-12 col-sm-6 col-md-4",children:Object(v.jsx)("div",{class:"image-flip",children:Object(v.jsxs)("div",{class:"mainflip flip-0",children:[Object(v.jsx)("div",{class:"frontside",children:Object(v.jsx)("div",{class:"card",children:Object(v.jsxs)("div",{class:"card-body text-center",children:[Object(v.jsx)("p",{children:Object(v.jsx)("img",{class:" img-fluid",src:l,alt:"card image"})}),Object(v.jsx)("h4",{class:"card-title",children:i}),Object(v.jsx)("p",{class:"card-text"})]})})}),Object(v.jsx)("div",{class:"backside",children:Object(v.jsx)("div",{class:"card",children:Object(v.jsxs)("div",{class:"card-body text-center mt-4",children:[Object(v.jsx)("h4",{class:"card-title",children:i}),Object(v.jsx)("p",{class:"card-text",children:d}),Object(v.jsxs)("div",{style:{marginTop:"20px"},children:[e.user.subscribe.includes(u)?Object(v.jsxs)("button",{title:"UnSubscribe",class:"neo-button",onClick:function(){var t;t=u,m.a.post("".concat(h,"/api/users/unsub/").concat(t,"/").concat(e.userid)).then((function(e){console.log("res.data.user UNSUB method: ",e.data.user.subscribe)})).catch((function(e){return console.log(e)})),e.setFlag((function(e){return!e})),o((function(e){return!e}))},children:[Object(v.jsx)("i",{id:"Sub",class:"fa fa-minus","aria-hidden":"true"})," "]}):Object(v.jsxs)("button",{title:"Subscribe",class:"neo-button",onClick:function(){var t;t=u,m.a.post("".concat(h,"/api/users/sub/").concat(t,"/").concat(e.userid)).then((function(e){console.log("res.data.user from profile update: ",e.data.user)})).catch((function(e){return console.log(e)})),e.setFlag((function(e){return!e}))},children:[Object(v.jsx)("i",{id:"Sub",class:"fa fa-plus fa-1x"})," "]}),Object(v.jsx)("button",{title:"Show All Podcast",class:"neo-button",children:Object(v.jsxs)(b.b,{to:"/Allpodcast/".concat(u),children:[Object(v.jsx)("i",{class:"fa fa-arrow-circle-up"})," "]})})]})]})})})]})})})}var I=c(182);c(139);function B(){return Object(v.jsx)("div",{children:Object(v.jsxs)("div",{class:"load",children:[Object(v.jsx)("hr",{}),Object(v.jsx)("hr",{}),Object(v.jsx)("hr",{}),Object(v.jsx)("hr",{})]})})}function z(e){var t=Object(a.useState)([]),c=Object(j.a)(t,2),s=c[0],n=c[1],o=Object(a.useState)(),r=Object(j.a)(o,2),i=r[0],l=r[1],d=Object(a.useState)(!1),b=Object(j.a)(d,2),u=b[0],O=b[1],p=Object(a.useState)(""),f=Object(j.a)(p,2),x=f[0],g=f[1];Object(a.useEffect)((function(){m.a.get("".concat(h,"/api/users/")).then((function(e){console.log("chaneel 111 ",e.data.users),n(e.data.users)}))}),[u]),Object(a.useEffect)((function(){m.a.get("".concat(h,"/api/users/profile/").concat(e.data._id)).then((function(e){console.log("res.data",e.data.user),l(e.data.user)}))}),[u]);var y=s.filter((function(e){return""==x||e.name.toLowerCase().includes(x.toLowerCase())?e:void 0})).map((function(t,c){return Object(v.jsx)(R,{channel:t,userid:e.data._id,user:i,setFlag:O},c)}));return console.log("flag",u),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{style:{textAlign:"center"},children:Object(v.jsx)(I.a,{id:"standard-search",label:"Search field",style:{width:"500px",marginBottom:"38px"},type:"search",onChange:function(e){g(e.target.value)}})}),Object(v.jsx)("div",{class:"container mt-2",children:Object(v.jsx)("div",{class:"row",children:i&&O?y:Object(v.jsx)(B,{})})})]})}c(140);var W=c(66),Y=c.n(W);function G(e){var t=Object(a.useState)([]),c=Object(j.a)(t,2),s=c[0],n=c[1],o=Object(a.useState)([]),r=Object(j.a)(o,2),i=r[0],l=r[1],d=Object(a.useState)([]),u=Object(j.a)(d,2),O=(u[0],u[1],Object(a.useState)([])),p=Object(j.a)(O,2),f=p[0],x=(p[1],Object(a.useState)({currentDataUser:null})),g=Object(j.a)(x,2),y=(g[0],g[1],Object(a.useState)()),w=Object(j.a)(y,2),S=w[0],N=w[1],C=Object(a.useState)(!1),k=Object(j.a)(C,2),P=k[0],E=k[1];console.log(e.data),console.log(e);var T=e.data,_=(T.name,T.email,T.image,T.bio,T._id);Object(a.useEffect)((function(){m.a.get("".concat(h,"/api/users/")).then((function(e){console.log(e.data.users),n(e.data.users)}))}),[]),Object(a.useEffect)((function(){m.a.get("".concat(h,"/api/podcast")).then((function(e){console.log("res.data",e.data.user),N(e.data.podcast)}))}),[P]),Object(a.useEffect)((function(){m.a.get("".concat(h,"/api/podcast/").concat(e.data._id)).then((function(e){console.log(e.data.podcast),l(e.data.podcast)}))}),[P]);console.log(f._id);var A=i.map((function(e,t){if(e.user==_)return Object(v.jsx)("div",{class:"profile-content",children:Object(v.jsx)("div",{class:"tab-content p-0",children:Object(v.jsx)("div",{class:"tab-pane fade active show",id:"profile-post",children:Object(v.jsx)("ul",{class:"timeline",children:Object(v.jsxs)("li",{children:[Object(v.jsxs)("div",{class:"timeline-time",children:[Object(v.jsx)("span",{class:"date",children:Y()(e.createdAt).format("MMM Do YY")}),Object(v.jsx)("span",{class:"time",children:Y()(e.createdAt).format("h:mm")})]}),Object(v.jsx)("div",{class:"timeline-icon",children:Object(v.jsx)("a",{href:"javascript:;",children:"\xa0"})}),Object(v.jsxs)("div",{class:"timeline-body",children:[Object(v.jsxs)("div",{class:"timeline-header",children:[e.title,Object(v.jsx)("button",{variant:"outline-info",style:{marginLeft:"15px"},onClick:function(){return t=e._id,m.a.delete("".concat(h,"/api/podcast/deletePodcast/").concat(t)).then((function(e){console.log("data",e)})),void E((function(e){return!e}));var t},className:"outline-light ",children:Object(v.jsx)("i",{id:"sad1",class:"fa fa-trash-o","aria-hidden":"true"})})]}),Object(v.jsx)(b.b,{to:"/Allpodcast/".concat(_,"/").concat(e._id),children:Object(v.jsx)("div",{class:"timeline-content",children:Object(v.jsx)("img",{src:e.image})})})]})]})})})})})})),U=s.map((function(t,c){if(e.data._id==t._id)return Object(v.jsx)("div",{class:"container",children:Object(v.jsx)("div",{class:"row",children:Object(v.jsx)("div",{class:"col-md-12",children:Object(v.jsx)("div",{id:"content",class:"content content-full-width",children:Object(v.jsx)("div",{class:"profile",children:Object(v.jsxs)("div",{class:"profile-header",children:[Object(v.jsx)("div",{class:"profile-header-cover"}),Object(v.jsxs)("div",{class:"profile-header-content",children:[Object(v.jsx)("div",{class:"profile-header-img",children:Object(v.jsx)("img",{class:"responsive",src:t.image,alt:""})}),Object(v.jsxs)("div",{class:"profile-header-info",children:[Object(v.jsx)("h4",{class:"m-t-10 m-b-5",children:t.name}),Object(v.jsx)("p",{class:"m-b-10",children:t.email}),Object(v.jsx)("p",{class:"m-b-10",children:t.bio}),Object(v.jsxs)("button",{title:"Edit Profile",class:"neo-button",children:[Object(v.jsxs)(b.b,{to:"/EditProfile/".concat(_),children:[Object(v.jsx)("i",{id:"iconsara",class:"fa fa-edit fa-1x"})," "]})," "]})]})]}),Object(v.jsxs)("ul",{class:"profile-header-tab nav nav-tabs",children:[Object(v.jsx)("li",{class:"nav-item",children:Object(v.jsx)("a",{href:"/new",class:"nav-link active show","data-toggle":"tab",children:"Podcasts"})}),Object(v.jsxs)("button",{title:"Create new podcast",children:[Object(v.jsxs)(b.b,{to:"/new",children:[Object(v.jsx)("i",{class:"fa fa-plus fa-1x"})," "]})," "]})]})]})})})})})})}));return Object(v.jsx)("div",{children:Object(v.jsxs)(v.Fragment,{children:[U,Object(v.jsxs)("div",{className:"pt-2",children:[" ",S&&0==!A.length?A:Object(v.jsxs)("h1",{style:{textAlign:"center",marginTop:"150px"},children:["There is no  podcast yet ",Object(v.jsx)("i",{id:"sad",class:"fa fa-frown-o","aria-hidden":"true"})]})," "]})]})})}var H=c(189);c(142);function V(e){if(!e)return 0;var t=e.reduce((function(e,t){return e+t}),0);return 0==e.length?0:t/e.length}function q(e){var t=Object(u.f)().id;console.log(" id test ",t);var c=Object(a.useState)([]),s=Object(j.a)(c,2),n=s[0],o=s[1];Object(a.useEffect)((function(){m.a.get("".concat(h,"/api/podcast/").concat(t)).then((function(e){console.log(e.data.podcast),o(e.data.podcast)}))}),[]),console.log("podcast",n),console.log("idpodcast",e.data._id);var r=n.map((function(e,c){if(t==e.user)return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{class:"col-md-4",children:Object(v.jsx)(b.b,{to:"/Allpodcast/".concat(t,"/").concat(e._id),children:Object(v.jsxs)("div",{class:"profile-card-6",children:[Object(v.jsx)("img",{src:e.image,class:"img img-responsive"}),Object(v.jsx)("div",{class:"profile-position",children:e.title}),Object(v.jsx)("div",{class:"profile-overview",children:Object(v.jsx)("div",{class:"profile-overview",children:Object(v.jsxs)("div",{class:"row text-center",children:[Object(v.jsx)("div",{class:"col-xs-4",children:Object(v.jsx)("audio",{controls:!0,id:"audio",children:Object(v.jsx)("source",{src:e.audio,type:"audio/mpeg"})})}),Object(v.jsx)("div",{class:"col-xs-4",children:Object(v.jsx)("p",{children:"rate"})}),Object(v.jsx)("div",{class:"col-xs-4",children:Object(v.jsx)(H.a,{name:"read-only",value:V(e.rate),precision:.5,readOnly:!0})})]})})})]})})})})}));return Object(v.jsx)("div",{class:"container mt-2",children:Object(v.jsx)("div",{class:"row",children:0==!r.length?r:Object(v.jsxs)("h1",{style:{textAlign:"center",marginTop:"150px"},children:["There is no  Podcast Yet ",Object(v.jsx)("i",{id:"sad",class:"fa fa-frown-o","aria-hidden":"true"})]})})})}var J=c(187);c(143);function K(e){var t,c,a,s,n=Object(u.e)();return Object(v.jsxs)(J.a,{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(v.jsx)("a",{className:"navbar-brand me-2 mb-1 d-flex align-items-center",href:"#",children:Object(v.jsx)("i",{className:"fa fa-podcast","aria-hidden":"true"})}),Object(v.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(v.jsx)("span",{className:"navbar-toggler-icon"})}),Object(v.jsx)("div",{className:"collapse navbar-collapse ",id:"navbarNav",children:Object(v.jsx)("ul",{className:"navbar-nav",children:Object(v.jsx)("li",{className:"nav-item active ",children:Object(v.jsxs)("a",{className:"nav-link",href:"/",children:["Home ",Object(v.jsx)("span",{className:"sr-only",children:"(current)"})]})})})}),e.isLoggedIn?Object(v.jsx)("div",{className:"navbar-collapse collapse w-100 order-3 dual-collapse2",children:Object(v.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsx)("a",{className:"nav-link",href:"/Allchannel",children:"Channels"})}),Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsx)("a",{className:"nav-link",href:"/Mysub",children:"Subscriptions"})}),Object(v.jsx)("li",(s={className:"nav-item me-3 me-lg-1"},Object(f.a)(s,"className","nav-item active"),Object(f.a)(s,"children",Object(v.jsxs)("a",{title:"Profile",className:"nav-link d-sm-flex align-items-sm-center",href:"/Profile",children:[Object(v.jsx)("img",{src:e.data.image,className:"rounded-circle",height:"22",alt:"",loading:"lazy"}),Object(v.jsx)("strong",{className:"d-none d-sm-block ms-1",children:e.data.name})]})),s)),Object(v.jsx)("button",{title:"Log Out",onClick:function(){console.log("Logging Out!"),localStorage.removeItem("jwtToken"),e.loginCallback(),n.push("/")},children:Object(v.jsx)("i",{className:"fa fa-sign-out text-dark"})})]})}):Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",(a={className:"collapse navbar-collapse"},Object(f.a)(a,"className","topnav-right"),Object(f.a)(a,"id","navbarNav"),Object(f.a)(a,"children",Object(v.jsxs)("ul",{className:"navbar-nav",children:[Object(v.jsx)("li",(t={className:"nav-item"},Object(f.a)(t,"className","nav-signup"),Object(f.a)(t,"children",Object(v.jsx)("a",{className:"nav-link",href:"/signup",children:"SignUp"})),t)),Object(v.jsx)("li",(c={className:"nav-item"},Object(f.a)(c,"className","nav-login"),Object(f.a)(c,"children",Object(v.jsx)("a",{className:"nav-link",href:"/login",children:"LogIn"})),c))]})),a))})]})}c(144);function Q(){return Object(a.useEffect)((function(){if(document.getElementsByClassName("banner")[0])for(var e=document.getElementsByClassName("banner")[0],t=document.getElementsByClassName("blocks"),c=1;c<400;c++)e.innerHTML+="<div class='blocks'> </div>",t[c].style.animationDelay="".concat(.02*c,"s")}),[]),console.log(document.getElementsByClassName("banner")),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("section",{children:[Object(v.jsx)("h2",{children:"Titanium"}),Object(v.jsx)("div",{className:"banner",children:Object(v.jsx)("div",{className:"blocks"})})]}),Object(v.jsxs)("footer",{style:{fontFamily:"sans-serif"},children:[Object(v.jsx)("div",{className:"container p-4",children:Object(v.jsxs)("div",{className:"row",children:[Object(v.jsxs)("div",{className:"col-lg-6 col-md-12 mb-4 mb-md-0",children:[Object(v.jsx)("h5",{className:"text-uppercase",children:"Podcast Wbsite"}),Object(v.jsx)("p",{children:"Podcast website where you can have your own channel and ability to upload audio of your own . Podcast website offer Subscription other channels and interact with them in efficient and effective way . Enjoy the journey"})]}),Object(v.jsxs)("div",{className:"col-lg-3 col-md-6 mb-4 mb-md-0",children:[Object(v.jsx)("h5",{className:"text-uppercase",children:"Contact Us"}),Object(v.jsxs)("ul",{className:"list-unstyled mb-0",children:[Object(v.jsx)("li",{children:"Taghreed.@hotmail.com"}),Object(v.jsx)("li",{children:"Sara.@gmail.com"}),Object(v.jsx)("li",{children:"Abdulrahman.@hotmail.com"}),Object(v.jsx)("li",{children:"Nouf.@hotmail.com"})]})]}),Object(v.jsxs)("div",{className:"col-lg-3 col-md-6 mb-4 mb-md-0",children:[Object(v.jsx)("h5",{className:"text-uppercase mb-0",children:"Contribute With"}),Object(v.jsxs)("ul",{className:"list-unstyled",children:[Object(v.jsx)("li",{children:"Marco santonastasi"}),Object(v.jsx)("li",{children:"Yasir Almuhtarish"}),Object(v.jsx)("li",{children:"Haneen Alghamdi"}),Object(v.jsx)("li",{children:"Ali Hamidaddin"}),Object(v.jsx)("li",{children:"Sara Kuddah"})]})]})]})}),Object(v.jsx)("div",{className:"text-center p-3",style:{backgroundColor:"grey"},children:Object(v.jsx)("a",{className:"text-white",href:"https://mdbootstrap.com/",children:"Taghreed Saeed Abdulrahman Aljafar Nouf Alabady Sara Albdullah"})})]})]})}c(145);function X(e){var t=Object(u.f)().id,c=Object(u.e)(),s=Object(a.useState)(e.data),n=Object(j.a)(s,2),o=n[0],r=n[1],d=Object(a.useState)(""),O=Object(j.a)(d,2),p=O[0],y=O[1],w=Object(a.useState)(!0),S=Object(j.a)(w,2),N=S[0],k=S[1],P=Object(a.useState)(0),E=Object(j.a)(P,2),T=E[0],_=E[1],A=e.data;A.name,A.email,A.bio,A._id;console.log(e.data);var U=Object(a.useState)([]),D=Object(j.a)(U,2),L=D[0],F=D[1];Object(a.useEffect)((function(){m.a.get("".concat(h,"/api/users/")).then((function(e){console.log(e.data.users),F(e.data.users)}))}),[]);var M="",R="",I="",B="";L.map((function(t){t._id==e.data._id&&(M=t.name,R=t.email,I=t.bio,B=t.image)}));var z=function(){var e=Object(l.a)(i.a.mark((function e(t){var c,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=t.target.files,(a=new FormData).append("file",c[0]),console.log("file",c[0]),a.append("upload_preset","xvn0ezmv"),m.a.post("https://api.cloudinary.com/v1_1/duuconncq/image/upload",a).then((function(e){console.log("res",e);var t=e.data;_(100),setTimeout((function(){_(0)}),1e3),console.log("inside",p),r(Object(x.a)(Object(x.a)({},o),{},{image:t.secure_url})),y(t.secure_url)})).catch((function(e){console.log(e),_(0)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();console.log("outside",p);var W=function(e){var t=e.target,c=t.name,a=t.value;console.log("aaaaaaaaaaaaaaabbbbbbbbbbbbbbbbbbbbbbbbb"),r(Object(x.a)(Object(x.a)({},o),{},Object(f.a)({},c,a)))};return Object(v.jsx)("div",{class:"main3",children:Object(v.jsxs)("div",{class:"edit-form",children:[!N&&Object(v.jsx)(g.a,{severity:"success",children:"Your Profile has been changed successfully"}),Object(v.jsxs)("form",{children:[Object(v.jsx)("h2",{children:"Edit Profile"}),Object(v.jsx)("div",{className:"form-group",children:Object(v.jsx)("input",{type:"name",defaultValue:M,className:"form-control",name:"name",placeholder:"Your name",onChange:W})}),Object(v.jsx)("div",{className:"form-group",children:Object(v.jsx)("input",{type:"email",defaultValue:R,className:"form-control",name:"email",placeholder:"Email Address",onChange:W})}),Object(v.jsx)("div",{className:"form-group",children:Object(v.jsx)("input",{type:"text",defaultValue:I,className:"form-control",name:"bio",placeholder:"bio",onChange:W})}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("input",{type:"file",defaultValue:B,className:"form-control",name:"image",placeholder:"Enter Images",onChange:z}),T>0&&Object(v.jsx)(C.a,{now:T,striped:!0,label:"".concat(T,"%")})]}),Object(v.jsx)("div",{className:"form-group text-center",children:Object(v.jsx)("button",{id:"but",type:"submit",className:"btn btn-primary btn-lg w-100",onClick:function(e){console.log("test befor",o.image),console.log("test befor",o),e.preventDefault(),m.a.put("".concat(h,"/api/users/EditProfile/").concat(t),o).then((function(e){k(!1),setTimeout((function(){c.push("/Profile"),k(!0)}),1500)})).catch((function(e){return console.log(e)}))},children:"Edit Profile"})})]}),Object(v.jsxs)("div",{class:"text-center",children:[" ",Object(v.jsxs)(b.b,{to:"/Editpassword",children:["Change Password? ",Object(v.jsx)("i",{id:"pass",class:"fa fa-key","aria-hidden":"true"})," "]})]}),Object(v.jsxs)("div",{class:"text-center",children:[" ",Object(v.jsx)(b.b,{to:"/Profile",children:"Return To the profile page? "})]})]})})}c(146);var Z=c(180),$=c(86);function ee(e){var t,c=Object(u.e)(),s=Object(u.f)().podId,n=Object(a.useState)([]),o=Object(j.a)(n,2),r=o[0],i=o[1];return Object(v.jsx)("div",{children:Object(v.jsx)(N.a,{className:"m-5",children:Object(v.jsx)(Z.a,{className:"justify-content-center mt-5",children:Object(v.jsxs)($.a,{md:12,children:[Object(v.jsx)(N.a.Row,{children:Object(v.jsxs)(N.a.Group,{as:$.a,controlId:"formGridEmail",children:[Object(v.jsx)(N.a.Label,{children:Object(v.jsx)("p",{className:"m-b-10 pt-4 f-w-600",children:"Comment"})}),Object(v.jsx)(N.a.Control,{placeholder:"Add Comment...",name:"comment",onChange:function(e){return function(e){var t=e.target,c=t.name,a=t.value;i(Object(x.a)(Object(x.a)({},r),{},Object(f.a)({},c,a)))}(e)}})]})}),Object(v.jsx)(k.a,(t={variant:"outline-info"},Object(f.a)(t,"variant","outline-info"),Object(f.a)(t,"type","submit"),Object(f.a)(t,"onClick",(function(e){return e.preventDefault(),void m.a.post("".concat(h,"/api/podcast/AddComment/").concat(s),r).then((function(e){c.push("/Allpodcast/:id/".concat(s))}))})),Object(f.a)(t,"children","Submit"),t))]})})})})}var te=c(184),ce=c(181);c(147);function ae(e){if(!e)return 0;var t=e.reduce((function(e,t){return e+t}),0);return 0==e.length?0:t/e.length}function se(e){var t=Object(u.f)().podId,c=Object(u.f)().id,s=(Object(u.e)(),Object(a.useState)(5)),n=Object(j.a)(s,2),o=(n[0],n[1]),r=Object(a.useState)([]),i=Object(j.a)(r,2),l=i[0],d=i[1],b=Object(a.useState)(!1),O=Object(j.a)(b,2),p=O[0],y=O[1],w=Object(a.useState)([]),S=Object(j.a)(w,2),N=S[0],C=S[1],P=Object(a.useState)({}),E=Object(j.a)(P,2),T=E[0],_=E[1],A=Object(a.useState)(!1),U=Object(j.a)(A,2),D=U[0],L=U[1],F=Object(a.useState)(),M=Object(j.a)(F,2),R=M[0],I=M[1],B=Object(a.useState)(!0),z=Object(j.a)(B,2),W=z[0],Y=z[1];console.log("id",c),console.log("podId",t),Object(a.useEffect)((function(){m.a.get("".concat(h,"/api/podcast/")).then((function(e){console.log(e.data.podcast);var c=e.data.podcast.find((function(e){return e._id==t}));console.log(c),d(c)}))}),[D]),Object(a.useEffect)((function(){m.a.get("".concat(h,"/api/podcast")).then((function(e){console.log("res.data",e.data.user),I(e.data.podcast)}))}),[D]);Object(a.useEffect)((function(){console.log("podcast1",T),function(){var e=t;console.log("before Axios"),m.a.post("".concat(h,"/api/podcast/addrating/").concat(e),T).then((function(e){console.log("res.data.user from profile update: ",e.data.podcast)})).catch((function(e){return console.log(e)}))}()}),[T]);var G=0==l.length?"":l.comment.map((function(t){return console.log("comment",t),Object(v.jsx)("div",{class:"comments",children:Object(v.jsxs)("div",{class:"comment",children:[Object(v.jsx)("a",{class:"comment-img",href:"#non",children:Object(v.jsx)("img",{src:l.image,alt:"",width:"50",height:"50"})}),Object(v.jsx)("div",{class:"comment-body",children:Object(v.jsxs)("div",{class:"text",children:[Object(v.jsx)("p",{children:t}),l.user==e.user._id&&Object(v.jsxs)("button",{id:"deletebutt",variant:"outline-info",onClick:function(){return function(e){console.log(e),m.a.delete("".concat(h,"/api/podcast/deletedComment/").concat(l._id,"/").concat(e)).then((function(e){console.log("data",e)})).catch((function(e){return console.log(e)})),L((function(e){return!e}))}(t)},className:"outline-light",children:[Object(v.jsx)("i",{id:"deletebutt",class:"fa fa-trash-o","aria-hidden":"true"})," "]})]})})]})})}));return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{children:Object(v.jsx)(ce.a,{className:"mt-5",children:Object(v.jsxs)(Z.a,{children:[Object(v.jsxs)($.a,{id:"picshowone",md:"6",children:[Object(v.jsx)("img",{src:l.image,alt:"",srcset:"",class:"img img-responsive "}),Object(v.jsx)(k.a,{id:"butt",onClick:function(){y(!0)},title:"Add Comment",children:"AddComment "}),!W&&Object(v.jsx)(g.a,{severity:"error",children:"Comment Must Not Be Empty"}),p&&Object(v.jsx)("div",{children:Object(v.jsxs)("div",{id:"inputcomment",class:"form-group",children:[Object(v.jsx)("form",{action:""}),Object(v.jsx)("textarea",{class:"form-control",id:"exampleFormControlTextarea1",rows:"3",placeholder:"Add Comment...",name:"comment",onChange:function(e){return function(e){var t=e.target,c=t.name,a=t.value;C(Object(x.a)(Object(x.a)({},N),{},Object(f.a)({},c,a)))}(e)}}),Object(v.jsx)(k.a,{id:"butt",title:"Post Comment",onClick:function(e){return c=e,console.log("Add  comment",N),void(""==!N.comment?(console.log("Not Empty  comment",N),c.preventDefault(),m.a.post("".concat(h,"/api/podcast/AddComment/").concat(t),N).then((function(e){console.log("data",e)})),L((function(e){return!e})),y(!1),C({comment:""})):(Y(!1),setTimeout((function(){Y(!0)}),3e3)));var c},children:"Send"})]})})]}),Object(v.jsx)($.a,{md:"6",className:"infoSowh",children:Object(v.jsxs)("div",{class:"info",children:[Object(v.jsx)("p",{style:{fontSize:"20px"},children:Object(v.jsx)("span",{style:{fontWeight:"bold"},children:l.title})}),Object(v.jsxs)("p",{style:{fontSize:"18px"},children:[Object(v.jsx)("span",{style:{fontWeight:"bold"}}),Object(v.jsx)(te.a,{component:"fieldset",mb:3,borderColor:"transparent",children:Object(v.jsx)(H.a,{name:"hover-feedback",value:ae(l.rate),precision:.5,onChange:function(e,t){console.log("2",t),o(t),_({rate:t})}})})]}),Object(v.jsxs)("p",{style:{fontSize:"18px"},children:[Object(v.jsx)("span",{style:{fontWeight:"bold"}}),Object(v.jsx)("audio",{src:l.audio,controls:"controls"})]}),Object(v.jsxs)("p",{style:{fontSize:"16px"},children:[Object(v.jsx)("span",{style:{fontWeight:"bold"}}),l.description]}),Object(v.jsxs)("div",{className:"pt-2",children:[" ",R?G:Object(v.jsx)("h1",{children:"Loding.."})," "]})]})})]})})})})}function ne(e){var t=Object(u.e)(),c=Object(a.useState)(!1),s=Object(j.a)(c,2),n=s[0],o=s[1],r=Object(a.useState)(!1),i=Object(j.a)(r,2),l=i[0],d=i[1],b=Object(a.useState)(!0),O=Object(j.a)(b,2),p=O[0],y=O[1],w=Object(a.useState)(""),S=Object(j.a)(w,2),N=S[0],C=S[1],k=Object(a.useState)(!0),P=Object(j.a)(k,2),E=P[0],T=P[1],_=Object(a.useState)(!0),A=Object(j.a)(_,2),U=A[0],D=A[1],L=Object(a.useState)(!0),F=Object(j.a)(L,2),M=F[0],R=F[1],I=Object(a.useState)({email:e.data.email,password:""}),B=Object(j.a)(I,2),z=B[0],W=B[1],Y=Object(a.useState)({}),G=Object(j.a)(Y,2),H=G[0],V=G[1],q=function(e){var t=e.target,c=t.name,a=t.value;V(Object(x.a)(Object(x.a)({},H),{},Object(f.a)({},c,a))),"password"==c&&(a.length<6?R(!1):R(!0)),"password"==c&&C(a),"confirmPassword"==c&&(a==N?(d(!0),y(!0)):(d(!1),y(!1)))};return Object(a.useEffect)((function(){console.log("cpassword useeffect",n),n&&l?m.a.put("".concat(h,"/api/users/Editpassword/").concat(e.data._id),H).then((function(e){console.log("password change"),D(!1),setTimeout((function(){T(!0),t.push("/Profile"),D(!0)}),1500)})).catch((function(e){return console.log(e)})):console.log("no")}),[n]),Object(v.jsx)("div",{class:"main3",children:Object(v.jsxs)("div",{class:"edit-form",children:[!U&&Object(v.jsx)(g.a,{severity:"success",children:"Your password has been changed successfully"}),Object(v.jsxs)("form",{children:[Object(v.jsx)("h2",{children:"Change Password"}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{for:"fname",children:" Current Password"}),Object(v.jsx)("input",{type:"Password",className:"form-control",name:"password",onChange:function(e){return function(e){var t=e.target,c=t.name,a=t.value;W(Object(x.a)(Object(x.a)({},z),{},Object(f.a)({},c,a)))}(e)}})]}),!E&&Object(v.jsx)(g.a,{severity:"error",children:" Password Incorrect "}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{for:"fname",children:"New Password"}),Object(v.jsx)("input",{type:"Password",className:"form-control",name:"password",onChange:function(e){return q(e)}})]}),!M&&Object(v.jsx)(g.a,{severity:"error",children:"password must be more than 6"}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{for:"fname",children:"Confirm Password"}),Object(v.jsx)("input",{type:"Password",className:"form-control",name:"confirmPassword",onChange:function(e){return q(e)}})]}),!p&&Object(v.jsx)(g.a,{severity:"error",children:"Password Not Match !!"}),Object(v.jsx)("div",{className:"form-group text-center",children:Object(v.jsx)("button",{id:"but",type:"submit",className:"btn btn-primary btn-lg w-100",onClick:function(t){return t.preventDefault(),m.a.post("".concat(h,"/api/users/login"),z).then((function(t){console.log("Express backend /login response",t);var c=t.data.token,a=t.data.msg;c?(localStorage.setItem("jwtToken",c),e.loginCallback(),o(!0),console.log("setCredentials(true)111")):(console.log("Login error: ",a),T(!1),setTimeout((function(){T(!0)}),3e3))})),void console.log("credentials",n)},children:"Save"})})]})]})})}function oe(e){var t=Object(a.useState)([]),c=Object(j.a)(t,2),s=c[0],n=c[1],o=Object(a.useState)(),r=Object(j.a)(o,2),d=r[0],b=r[1],u=Object(a.useState)(!1),O=Object(j.a)(u,2),p=O[0],f=O[1],x=Object(a.useState)(!1),g=Object(j.a)(x,2);g[0],g[1];Object(a.useEffect)(Object(l.a)(i.a.mark((function t(){var c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.get("".concat(h,"/api/users/profile/").concat(e.data._id));case 2:c=t.sent,b(c.data.user),m.a.get("".concat(h,"/api/users/")).then((function(e){console.log(">>>>>>> props.user.: ",e);var t=e.data.users.filter((function(e){return c.data.user.subscribe.includes(e._id)}));n(t)}));case 5:case"end":return t.stop()}}),t)}))),[p]),console.log("subchannel",d);var y=s.map((function(t,c){return Object(v.jsx)(R,{channel:t,userid:e.data._id,user:d,setFlag:f},c)}));return Object(v.jsx)("div",{children:Object(v.jsx)("div",{class:"container mt-2",children:Object(v.jsx)("div",{class:"row",children:d&&0==!y.length?y:Object(v.jsxs)("h1",{style:{textAlign:"center",marginTop:"150px"},children:["There is no  Subscribe Channel yet ",Object(v.jsx)("i",{id:"sad",class:"fa fa-frown-o","aria-hidden":"true"})]})})})})}var re=function(){var e=Object(a.useState)({}),t=Object(j.a)(e,2),c=(t[0],t[1],Object(a.useState)({currentUser:null,isLoggedIn:!1})),s=Object(j.a)(c,2),n=s[0],o=s[1],r=Object(a.useState)(!1),O=Object(j.a)(r,2),p=O[0],f=O[1],x=Object(a.useState)({currentDataUser:null}),g=Object(j.a)(x,2),w=g[0],N=g[1],C=Object(a.useState)({}),k=Object(j.a)(C,2),P=k[0],E=k[1],T=function(){if(localStorage.jwtToken){var e=localStorage.jwtToken,t=Object(d.a)(e,"SECRET").user,c=Object(d.a)(e,"SECRET").user;o({currentUser:t,isLoggedIn:!0}),N({currentDataUser:c}),A(t)}else o({currentUser:null,isLoggedIn:!1});f(!0)};Object(a.useEffect)(T,[]);var A=function(){var e=Object(l.a)(i.a.mark((function e(t){var c,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("".concat(h,"/api/users/profile/").concat(t._id));case 2:c=e.sent,a=c.data.user,console.log("Loaded user profile: ",a),E(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){f(null!=w)}),[P]),Object(v.jsx)(v.Fragment,{children:p?Object(v.jsxs)(b.a,{children:[Object(v.jsx)(K,{isLoggedIn:n.isLoggedIn,loginCallback:T,data:P}),Object(v.jsx)(u.a,{path:"/signup",children:Object(v.jsx)(y,{loginCallback:T})}),Object(v.jsx)(u.a,{path:"/login",children:Object(v.jsx)(S,{loginCallback:T})}),Object(v.jsx)(u.a,{exact:!0,path:"/new",children:Object(v.jsx)(_,{data:w.currentDataUser})}),Object(v.jsx)(u.a,{exact:!0,path:"/record",children:Object(v.jsx)(M,{})}),Object(v.jsx)(u.a,{exact:!0,path:"/Allchannel",children:Object(v.jsx)(z,{data:w.currentDataUser})}),Object(v.jsx)(u.a,{exact:!0,path:"/Profile",children:Object(v.jsx)(G,{data:w.currentDataUser})}),Object(v.jsx)(u.a,{exact:!0,path:"/Allpodcast/:id",children:Object(v.jsx)(q,{data:w.currentDataUser})}),Object(v.jsx)(u.a,{exact:!0,path:"/",children:Object(v.jsx)(Q,{})}),Object(v.jsx)(u.a,{exact:!0,path:"/EditProfile/:id",children:Object(v.jsx)(X,{data:w.currentDataUser})}),Object(v.jsx)(u.a,{exact:!0,path:"/AddComment/:id/:podId",children:Object(v.jsx)(ee,{})}),Object(v.jsx)(u.a,{path:"/Allpodcast/:id/:podId",children:Object(v.jsx)(se,{user:w.currentDataUser})}),Object(v.jsx)(u.a,{path:"/Editpassword",children:Object(v.jsx)(ne,{loginCallback:T,data:w.currentDataUser})}),Object(v.jsx)(u.a,{path:"/Mysub",children:Object(v.jsx)(oe,{loginCallback:T,data:w.currentDataUser})})]}):Object(v.jsx)(B,{})})},ie=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,192)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,n=t.getLCP,o=t.getTTFB;c(e),a(e),s(e),n(e),o(e)}))};o.a.render(Object(v.jsx)(s.a.StrictMode,{children:Object(v.jsx)(re,{})}),document.getElementById("root")),ie()},77:function(e,t,c){}},[[148,1,2]]]);
//# sourceMappingURL=main.b1dc0994.chunk.js.map